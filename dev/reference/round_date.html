<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="round_date() takes a date-time object and time unit, and rounds it to the nearest value
of the specified time unit. For rounding date-times which are exactly halfway
between two consecutive units, the convention is to round up. Note that this
is in line with the behavior of R's base::round.POSIXt() function
but does not follow the convention of the base base::round() function
which &quot;rounds to the even digit&quot;, as per IEC 60559.
Rounding to the nearest unit or multiple of a unit is supported. All
meaningful specifications in the English language are supported - secs, min,
mins, 2 minutes, 3 years etc.
Rounding to fractional seconds is also supported. Please note that rounding to
fractions smaller than 1 second can lead to large precision errors due to the
floating point representation of the POSIXct objects. See examples.
floor_date() takes a date-time object and rounds it down to the nearest
boundary of the specified time unit.
ceiling_date() takes a date-time object and rounds it up to the nearest
boundary of the specified time unit."><title>Round, floor and ceiling methods for date-time objects — round_date • lubridate</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Source%20Code%20Pro-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Round, floor and ceiling methods for date-time objects — round_date"><meta property="og:description" content="round_date() takes a date-time object and time unit, and rounds it to the nearest value
of the specified time unit. For rounding date-times which are exactly halfway
between two consecutive units, the convention is to round up. Note that this
is in line with the behavior of R's base::round.POSIXt() function
but does not follow the convention of the base base::round() function
which &quot;rounds to the even digit&quot;, as per IEC 60559.
Rounding to the nearest unit or multiple of a unit is supported. All
meaningful specifications in the English language are supported - secs, min,
mins, 2 minutes, 3 years etc.
Rounding to fractional seconds is also supported. Please note that rounding to
fractions smaller than 1 second can lead to large precision errors due to the
floating point representation of the POSIXct objects. See examples.
floor_date() takes a date-time object and rounds it down to the nearest
boundary of the specified time unit.
ceiling_date() takes a date-time object and rounds it up to the nearest
boundary of the specified time unit."><meta property="og:image" content="https://lubridate.tidyverse.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="lubridate.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">lubridate</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.8.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/lubridate.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2017/11/lubridate-1.7.0/">Version 1.7.0</a>
    <a class="external-link dropdown-item" href="https://www.rstudio.com/blog/lubridate-1-6-0/">Version 1.6.0</a>
    <a class="external-link dropdown-item" href="https://www.rstudio.com/blog/lubridate-1-2-0-now-on-cran/">Version 1.2.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverse/lubridate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Round, floor and ceiling methods for date-time objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/lubridate/blob/HEAD/R/round.r" class="external-link"><code>R/round.r</code></a></small>
      <div class="d-none name"><code>round_date.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>round_date()</code> takes a date-time object and time unit, and rounds it to the nearest value
of the specified time unit. For rounding date-times which are exactly halfway
between two consecutive units, the convention is to round up. Note that this
is in line with the behavior of R's <code><a href="https://rdrr.io/r/base/round.POSIXt.html" class="external-link">base::round.POSIXt()</a></code> function
but does not follow the convention of the base <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">base::round()</a></code> function
which "rounds to the even digit", as per IEC 60559.</p>
<p>Rounding to the nearest unit or multiple of a unit is supported. All
meaningful specifications in the English language are supported - secs, min,
mins, 2 minutes, 3 years etc.</p>
<p>Rounding to fractional seconds is also supported. Please note that rounding to
fractions smaller than 1 second can lead to large precision errors due to the
floating point representation of the POSIXct objects. See examples.</p>
<p><code>floor_date()</code> takes a date-time object and rounds it down to the nearest
boundary of the specified time unit.</p>
<p><code>ceiling_date()</code> takes a date-time object and rounds it up to the nearest
boundary of the specified time unit.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">round_date</span><span class="op">(</span>
  <span class="va">x</span>,
  unit <span class="op">=</span> <span class="st">"second"</span>,
  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">7</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">floor_date</span><span class="op">(</span>
  <span class="va">x</span>,
  unit <span class="op">=</span> <span class="st">"seconds"</span>,
  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">7</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">ceiling_date</span><span class="op">(</span>
  <span class="va">x</span>,
  unit <span class="op">=</span> <span class="st">"seconds"</span>,
  change_on_boundary <span class="op">=</span> <span class="cn">NULL</span>,
  week_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lubridate.week.start"</span>, <span class="fl">7</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>a vector of date-time objects</p></dd>
<dt>unit</dt>
<dd><p>a string or a date-time object. When a singleton string, it
specifies a time unit or a multiple of a unit to be rounded to. Valid base
units are <code>second</code>, <code>minute</code>, <code>hour</code>, <code>day</code>, <code>week</code>, <code>month</code>, <code>bimonth</code>,
<code>quarter</code>, <code>season</code>, <code>halfyear</code> and <code>year</code>. Arbitrary unique English
abbreviations as in the <code><a href="period.html">period()</a></code> constructor are allowed. Rounding to
multiples of units (except weeks) is supported.</p>
<p>When <code>unit</code> is a date-time object rounding is done to the nearest of the
elements in <code>unit</code>. If range of <code>unit</code> vector does not cover the range of
<code>x</code> <code>ceiling_date()</code> and <code>floor_date()</code> round to the <code>max(x)</code> and <code>min(x)</code>
for elements that fall outside of <code>range(unit)</code>.</p></dd>
<dt>week_start</dt>
<dd><p>when unit is <code>week</code>, specify the reference day.
7 represents Sunday and 1 represents Monday.</p></dd>
<dt>change_on_boundary</dt>
<dd><p>if this is <code>NULL</code> (the default), instants on the
boundary remain unchanged, but <code>Date</code> objects are rounded up to the next
boundary. If this is <code>TRUE</code>, instants on the boundary are rounded up to the
next boundary. If this is <code>FALSE</code>, nothing on the boundary is rounded up at
all. This was the default for <span class="pkg">lubridate</span> prior to <code>v1.6.0</code>. See
section <code>Rounding Up Date Objects</code> below for more details.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>When <code>unit</code> is a string, return a Date object if <code>x</code> is a Date and
<code>unit</code> is larger or equal than "day", otherwise a POSIXct object. When
<code>unit</code> is a date-time object, return a date-time object of the same class
and same time zone as <code>unit</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In <span class="pkg">lubridate</span>, functions that round date-time objects try to
preserve the class of the input object whenever possible. This is done by
first rounding to an instant, and then converting to the original class as per
usual R conventions.</p>
    </div>
    <div class="section level2">
    <h2 id="rounding-up-date-objects">Rounding Up Date Objects<a class="anchor" aria-label="anchor" href="#rounding-up-date-objects"></a></h2>
    


<p>By default, rounding up <code>Date</code> objects follows 3 steps:</p><ol><li><p>Convert to an instant representing lower bound of the Date:
<code>2000-01-01</code> --&gt; <code>2000-01-01 00:00:00</code></p></li>
<li><p>Round up to the <strong>next</strong> closest rounding unit boundary. For example,
if the rounding unit is <code>month</code> then next closest boundary of <code>2000-01-01</code>
is <code>2000-02-01 00:00:00</code>.</p>
<p>The motivation for this is that the "partial" <code>2000-01-01</code> is conceptually
an interval (<code>2000-01-01 00:00:00</code> -- <code>2000-01-02 00:00:00</code>) and the day
hasn't started clocking yet at the exact boundary <code>00:00:00</code>. Thus, it
seems wrong to round a day to its lower boundary.</p>
<p>Behavior on the boundary can be changed by setting
<code>change_on_boundary</code> to <code>TRUE</code> or <code>FALSE</code>.</p></li>
<li><p>If the rounding unit is smaller than a day, return the instant from step 2
(<code>POSIXct</code>), otherwise convert to and return a <code>Date</code> object.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/Round.html" class="external-link">base::round()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">## print fractional seconds</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>digits.secs<span class="op">=</span><span class="fl">6</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2009-08-03 12:01:59.23"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">".5s"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"sec"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"second"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"minute"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:02:00 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"5 mins"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:00:00 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"hour"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:00:00 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"2 hours"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:00:00 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"day"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-04 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"week"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-02 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-01 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"bimonth"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-09-01 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"quarter"</span><span class="op">)</span> <span class="op">==</span> <span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"3 months"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"halfyear"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-07-01 UTC"</span>
<span class="r-in"><span class="fu">round_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"year"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2010-01-01 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2009-08-03 12:01:59.23"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">".1s"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59.2 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"second"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"minute"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:00 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"hour"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:00:00 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"day"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"week"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-02 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-01 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"bimonth"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-07-01 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"quarter"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-07-01 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"season"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-06-01 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"halfyear"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-07-01 UTC"</span>
<span class="r-in"><span class="fu">floor_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"year"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-01-01 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2009-08-03 12:01:59.23"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">".1 sec"</span><span class="op">)</span> <span class="co"># imprecise representation at 0.1 sec !!!</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59.2 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"second"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:02:00 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"minute"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:02:00 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"5 mins"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:05:00 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"hour"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 13:00:00 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"day"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-04 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"week"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-09 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-09-01 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"bimonth"</span><span class="op">)</span> <span class="op">==</span> <span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"2 months"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"quarter"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-10-01 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"season"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-09-01 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"halfyear"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2010-01-01 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"year"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2010-01-01 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## As of R 3.4.2 POSIXct printing of fractional numbers is wrong</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2009-08-03 12:01:59.3"</span><span class="op">)</span> <span class="co">## -&gt; "2009-08-03 12:01:59.2 CEST"</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59.2 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">".1 sec"</span><span class="op">)</span> <span class="co">## -&gt; "2009-08-03 12:01:59.2 CEST"</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2009-08-03 12:01:59.2 UTC"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## behaviour of `change_on_boundary`</span></span>
<span class="r-in"><span class="co">## As per default behaviour `NULL`, instants on the boundary remain the</span></span>
<span class="r-in"><span class="co">## same but dates are rounded up</span></span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="fu"><a href="ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2000-01-01 00:00:00"</span><span class="op">)</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-01-01 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="fu"><a href="ymd.html">ymd</a></span><span class="op">(</span><span class="st">"2000-01-01"</span><span class="op">)</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-02-01"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## If `TRUE`, both instants and dates on the boundary are rounded up</span></span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="fu"><a href="ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2000-01-01 00:00:00"</span><span class="op">)</span>, <span class="st">"month"</span>, change_on_boundary <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-02-01 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="fu"><a href="ymd.html">ymd</a></span><span class="op">(</span><span class="st">"2000-01-01"</span><span class="op">)</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-02-01"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## If `FALSE`, both instants and dates on the boundary remain the same</span></span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="fu"><a href="ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2000-01-01 00:00:00"</span><span class="op">)</span>, <span class="st">"month"</span>, change_on_boundary <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-01-01 UTC"</span>
<span class="r-in"><span class="fu">ceiling_date</span><span class="op">(</span><span class="fu"><a href="ymd.html">ymd</a></span><span class="op">(</span><span class="st">"2000-01-01"</span><span class="op">)</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-02-01"</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2000-01-01 00:00:00"</span><span class="op">)</span></span>
<span class="r-in"> <span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-01-01 UTC"</span>
<span class="r-in"> <span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"month"</span>, change_on_boundary <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-02-01 UTC"</span>
<span class="r-in"></span>
<span class="r-in"> <span class="co">## For Date objects first day of the month is not on the</span></span>
<span class="r-in"> <span class="co">## "boundary". change_on_boundary applies to instants only.</span></span>
<span class="r-in"> <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="ymd.html">ymd</a></span><span class="op">(</span><span class="st">"2000-01-01"</span><span class="op">)</span></span>
<span class="r-in"> <span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"month"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-02-01"</span>
<span class="r-in"> <span class="fu">ceiling_date</span><span class="op">(</span><span class="va">x</span>, <span class="st">"month"</span>, change_on_boundary <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2000-02-01"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by Vitalie Spinu, Garrett Grolemund, <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

  </div></footer></body></html>

